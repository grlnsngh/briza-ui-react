<style>
  /* Smooth theme transitions in preview */
  body,
  #storybook-root,
  #storybook-docs,
  .docs-story,
  .sb-main-padded,
  .sbdocs,
  .sb-story {
    transition: background-color 0.2s ease, color 0.2s ease !important;
  }

  /* Dark theme - all containers with consistent background */
  [data-theme="dark"] body,
  [data-theme="dark"] #storybook-root,
  [data-theme="dark"] #storybook-docs,
  [data-theme="dark"] .sb-main-padded,
  [data-theme="dark"] .sbdocs,
  [data-theme="dark"] .sbdocs-wrapper,
  [data-theme="dark"] .sbdocs-content {
    background: #222425 !important;
    background-color: #222425 !important;
    color: #e5e5e5 !important;
  }

  /* Dark theme - story blocks */
  [data-theme="dark"] .docs-story,
  [data-theme="dark"] .sb-story {
    background: #222425 !important;
    background-color: #222425 !important;
  }

  /* Fix white boxes in dark theme - inputs, code blocks, etc. */
  [data-theme="dark"] input,
  [data-theme="dark"] textarea,
  [data-theme="dark"] select,
  [data-theme="dark"] pre,
  [data-theme="dark"] code:not([class*="language-"]),
  [data-theme="dark"] .docblock-source {
    background-color: #1a1a1a !important;
    color: #e5e5e5 !important;
    border-color: #333333 !important;
  }

  /* Fix Storybook controls panel tables */
  [data-theme="dark"] table,
  [data-theme="dark"] .docblock-argstable,
  [data-theme="dark"] .docblock-argstable-body {
    background-color: transparent !important;
    color: #e5e5e5 !important;
  }

  /* Fix table cells */
  [data-theme="dark"] td,
  [data-theme="dark"] th {
    background-color: transparent !important;
    color: #e5e5e5 !important;
    border-color: #2a2a2a !important;
  }

  /* Headings - brighter for better readability */
  [data-theme="dark"] h1,
  [data-theme="dark"] h2,
  [data-theme="dark"] h3,
  [data-theme="dark"] h4,
  [data-theme="dark"] h5,
  [data-theme="dark"] h6 {
    color: #ffffff !important;
  }

  /* Body text - good contrast */
  [data-theme="dark"] p,
  [data-theme="dark"] li,
  [data-theme="dark"] div {
    color: #d0d0d0 !important;
  }

  /* Links */
  [data-theme="dark"] a {
    color: #a5b4fc !important;
  }

  /* Code blocks */
  [data-theme="dark"] pre[class*="language-"] {
    background-color: #1a1a1a !important;
  }

  /* Fix white canvas backgrounds */
  [data-theme="dark"] .sb-show-main {
    background: #222425 !important;
  }

  /* Light theme - all containers */
  [data-theme="light"] body,
  [data-theme="light"] #storybook-root,
  [data-theme="light"] #storybook-docs,
  [data-theme="light"] .sb-main-padded,
  [data-theme="light"] .sbdocs,
  [data-theme="light"] .sbdocs-wrapper,
  [data-theme="light"] .sbdocs-content {
    background-color: #ffffff !important;
    color: #111827 !important;
  }

  /* Light theme - story blocks */
  [data-theme="light"] .docs-story,
  [data-theme="light"] .sb-story {
    background-color: #ffffff !important;
  }
</style>
